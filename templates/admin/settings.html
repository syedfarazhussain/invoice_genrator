{% extends 'base.html' %}

{% block content %}

{% if user_data %}
    <div class="p-3">
        <h5>Email Configuration</h5><small> Note: Data already exsists do you want to update the data</small>
        <hr/>   
        <form action="{% url 'update_user_data' id=user_data.id %}" method="post">
            {% csrf_token %}
            
            <div class="row">
                <div class="col-md-6">
                        <div class="mb-3">
                                <label for="exampleInputEmail1" class="form-label">GBP Rate</label>
                                <input type="text" class="form-control" name="gbp_rate" value="{{ user_data.gbp_rate }}" required="required" aria-describedby="emailHelp">
                        </div>
                </div>
                <div class="col-md-6">
                        <div class="mb-3">
                                <label for="exampleInputEmail1" class="form-label">SMTP User</label>
                                <input type="text" class="form-control" name="smtp_user" value="{{ user_data.gbp_rate }}" required="required" aria-describedby="emailHelp">
                        </div>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-6">
                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">SMTP Server</label>
                            <input type="text" class="form-control" name="smtp_server" value="{{ user_data.smtp_server }}" required="required" aria-describedby="emailHelp">
                        </div>
                </div>
                <div class="col-md-6">
                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">SMTP Port</label>
                            <input type="text" class="form-control" name="smtp_port" value="{{ user_data.smtp_port }}" required="required" aria-describedby="emailHelp">
                        </div>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-6">
                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">SMTP Pass</label>
                            <input type="text" class="form-control" name="smtp_pass" value="{{ user_data.smtp_pass }}" required="required" aria-describedby="emailHelp">
                        </div>
                </div>
                <div class="col-md-6">
                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">SMTP Sender</label>
                            <input type="text" class="form-control" name="smtp_sender" value="{{ user_data.smtp_sender }}" required="required" aria-describedby="emailHelp">
                        </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Update Email Configurations</button>
        </form>
    </div>

{% else %}
<div class="p-3">
    <form action="{% url 'insert_user_data' %}" method="post">
        {% csrf_token %}
        
        <div class="row">
            <div class="col-md-6">
                    <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">GBP Rate</label>
                            <input type="text" class="form-control" name="gbp_rate" required="required" aria-describedby="emailHelp">
                    </div>
            </div>
            <div class="col-md-6">
                    <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">SMTP User</label>
                            <input type="text" class="form-control" name="smtp_user" required="required" aria-describedby="emailHelp">
                    </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                    <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">SMTP Server</label>
                        <input type="text" class="form-control" name="smtp_server" required="required" aria-describedby="emailHelp">
                    </div>
            </div>
            <div class="col-md-6">
                    <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">SMTP Port</label>
                        <input type="text" class="form-control" name="smtp_port" required="required" aria-describedby="emailHelp">
                    </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                    <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">SMTP Pass</label>
                        <input type="text" class="form-control" name="smtp_pass" required="required" aria-describedby="emailHelp">
                    </div>
            </div>
            <div class="col-md-6">
                    <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">SMTP Sender</label>
                        <input type="text" class="form-control" name="smtp_sender" required="required" aria-describedby="emailHelp">
                    </div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Save Email Configurations</button>
    </form>


</div>
    </div>


{% endif %}

{% endblock %}